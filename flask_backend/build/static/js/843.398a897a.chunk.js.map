{"version":3,"file":"static/js/843.398a897a.chunk.js","mappings":"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","sources":["Pages/StopSearch/Chart/Chart.jsx","Asset/Constants.jsx","Pages/StopSearch/Controller/Controller.jsx","Pages/StopSearch/StopSearch.jsx"],"sourcesContent":["import Plot from 'react-plotly.js';\nimport { ThemeContext } from '../../../AppTheme';\nimport { useContext } from 'react';\n\nfunction Chart({data, ylabel, xlabel, chartWidth}) {\n  const { theme } = useContext(ThemeContext);\n  data.marker = theme==='dark' ? { color: '#279adc' } : { color: '#1F77B4' };\n  return (\n    <Plot\n      data={[\n        data,\n      ]}\n      layout={theme==='dark' ? \n      chartWidth < 550 ?\n      {margin: {r: 0, b: 40, l: 40, t:15}, autosize: true, paper_bgcolor: '#1c1c1e', plot_bgcolor: '#1c1c1e', font: {color: '#fff'}, yaxis: {showgrid: false, title: {text: ylabel}, automargin: true, showticklabels: false}, xaxis: {title: {text: xlabel}, automargin: true, showticklabels: false}, bargap :0.1}:\n      {margin: {r: 0, b: 40, l: 40, t:15}, autosize: true, paper_bgcolor: '#1c1c1e', plot_bgcolor: '#1c1c1e', font: {color: '#fff'}, yaxis: {showgrid: false, title: {text: ylabel}, automargin: true, showticklabels: false}, xaxis: {title: {text: xlabel}, automargin: true}, bargap :0.1}:\n      chartWidth < 550 ?\n      {margin: {r: 0, b: 40, l: 40, t:15}, autosize: true, paper_bgcolor: '#f2f2f6', plot_bgcolor: '#f2f2f6', font: {color: '#000'}, yaxis: {showgrid: false, title: {text: ylabel}, automargin: true, showticklabels: false}, xaxis: {title: {text: xlabel}, automargin: true, showticklabels: false}, bargap :0.1}:\n      {margin: {r: 0, b: 40, l: 40, t:15}, autosize: true, paper_bgcolor: '#f2f2f6', plot_bgcolor: '#f2f2f6', font: {color: '#000'}, yaxis: {showgrid: false, title: {text: ylabel}, automargin: true, showticklabels: false}, xaxis: {title: {text: xlabel}, automargin: true}, bargap :0.1} }\n      useResizeHandler= {true}\n      style= { {width: \"100%\", height: \"100%\"} }\n    />\n  );\n}\n\nexport default Chart;\n","const allForceOptions = [\n  {value: 'avon-and-somerset', label: 'Avon and Somerset Constabulary'},\n  {value: 'bedfordshire', label: 'Bedfordshire Police'},\n  {value: 'cambridgeshire', label: 'Cambridgeshire Constabulary'},\n  {value: 'cheshire', label: 'Cheshire Constabulary'},\n  {value: 'city-of-london', label: 'City of London Police'},\n  {value: 'cleveland', label: 'Cleveland Police'},\n  {value: 'cumbria', label: 'Cumbria Constabulary'},\n  {value: 'derbyshire', label: 'Derbyshire Constabulary'},\n  {value: 'devon-and-cornwall', label: 'Devon & Cornwall Police'},\n  {value: 'dorset', label: 'Dorset Police'},\n  {value: 'durham', label: 'Durham Constabulary'},\n  {value: 'dyfed-powys', label: 'Dyfed-Powys Police'},\n  {value: 'essex', label: 'Essex Police'},\n  {value: 'gloucestershire', label: 'Gloucestershire Constabulary'},\n  {value: 'greater-manchester', label: 'Greater Manchester Police'},\n  {value: 'gwent', label: 'Gwent Police'},\n  {value: 'hampshire', label: 'Hampshire Constabulary'},\n  {value: 'hertfordshire', label: 'Hertfordshire Constabulary'},\n  {value: 'humberside', label: 'Humberside Police'},\n  {value: 'kent', label: 'Kent Police'},\n  {value: 'lancashire', label: 'Lancashire Constabulary'},\n  {value: 'leicestershire', label: 'Leicestershire Police'},\n  {value: 'lincolnshire', label: 'Lincolnshire Police'},\n  {value: 'merseyside', label: 'Merseyside Police'},\n  {value: 'metropolitan', label: 'Metropolitan Police Service'},\n  {value: 'norfolk', label: 'Norfolk Constabulary'},\n  {value: 'north-wales', label: 'North Wales Police'},\n  {value: 'north-yorkshire', label: 'North Yorkshire Police'},\n  {value: 'northamptonshire', label: 'Northamptonshire Police'},\n  {value: 'northumbria', label: 'Northumbria Police'},\n  {value: 'nottinghamshire', label: 'Nottinghamshire Police'},\n  {value: 'northern-ireland', label: 'Police Service of Northern Ireland'},\n  {value: 'south-wales', label: 'South Wales Police'},\n  {value: 'south-yorkshire', label: 'South Yorkshire Police'},\n  {value: 'staffordshire', label: 'Staffordshire Police'},\n  {value: 'suffolk', label: 'Suffolk Constabulary'},\n  {value: 'surrey', label: 'Surrey Police'},\n  {value: 'sussex', label: 'Sussex Police'},\n  {value: 'thames-valley', label: 'Thames Valley Police'},\n  {value: 'warwickshire', label: 'Warwickshire Police'},\n  {value: 'west-mercia', label: 'West Mercia Police'},\n  {value: 'west-midlands', label: 'West Midlands Police'},\n  {value: 'west-yorkshire', label: 'West Yorkshire Police'},\n  {value: 'wiltshire', label: 'Wiltshire Police'}\n]\n  \nconst allEthnicityOptions = [\n  {value: 'Asian', label: 'Asian'},\n  {value: 'Black', label: 'Black'},\n  {value: 'Mixed', label: 'Mixed'},\n  {value: 'Other', label: 'Other'},\n  {value: 'White', label: 'White'}\n]\n\nconst months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\nexport { allForceOptions, allEthnicityOptions, months };","import { useState, useEffect, useRef } from \"react\";\nimport { Select, Spinner, Tooltip, Text } from \"@geist-ui/core/\";\nimport Chart from '../Chart/Chart';\nimport { allForceOptions, allEthnicityOptions, months } from '../../../Asset/Constants';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport TextField from '@mui/material/TextField';\nimport \"./Controller.css\"\nimport { ChevronDown, ChevronUp, Info, Minus } from '@geist-ui/icons'\nimport Eze from '../../../Asset/Eze.jfif'\nimport Brook from '../../../Asset/Brook.jfif'\nimport ReactGA from \"react-ga4\";\n\n\nconst DashboardController = () => {\n  const initialForce = () => localStorage.getItem(\"force\") || 'metropolitan' \n  const [force, setForce] = useState(initialForce);\n  const initialEthnicity = () => localStorage.getItem(\"ethnicity\") || 'White' \n  const [ethnicity, setEthnicity] = useState(initialEthnicity);\n  const [month, setMonth] = useState(null);\n  \n  const [data, setData] = useState(null);\n  const [isView1DataLoading, setView1DataLoading] = useState(true);\n  const [isView2DataLoading, setView2DataLoading] = useState(true);\n  const [error, setError] = useState({'error': false, 'message': null})\n  \n  useEffect(() => {\n    ReactGA.send(\"pageview\");\n  }, [])\n  \n  const loadData = () => {\n    let forceQueryString = force\n    let ethnicityQueryString = ethnicity\n    let url = ''\n\n    if (month === null) {\n      url = `http://localhost:5000/stopsearch/data?force=${forceQueryString}&ethnicity=${ethnicityQueryString}`\n    } else {\n      let monthQueryString = month\n      url = `http://localhost:5000/stopsearch/data?force=${forceQueryString}&ethnicity=${ethnicityQueryString}&month=${monthQueryString}`\n    }\n    \n    fetch(url)\n    .then(response => {\n      if (!response.ok) {  \n        throw new Error(`Error! Status: ${response.status}, Message: ${response.statusText}`); \n      }\n      return response.json();\n    })\n    .then(data => {\n      setData(data)\n      setView1DataLoading(false)\n      setView2DataLoading(false)\n    })\n    .catch((err) => {\n      setError({'error': true, 'message': err.message});\n    })\n  }\n\n  useEffect(loadData, [force, ethnicity, month])\n\n  const [isForceLoading, setForceLoading] = useState(true);\n  const [forceSelectOptions, setForceSelectOptions] = useState([]);\n\n  const fetchForces = () => {\n    setForceLoading(true)\n    fetch('http://localhost:5000/stopsearch/forces')\n    .then(response => {\n      if (!response.ok) {  \n        throw new Error(`Error! Status: ${response.status}, Message: ${response.statusText}`); \n      }\n      return response.json();\n    })\n    .then(data => {\n      let forceSelectOptions = []\n      allForceOptions.forEach(element => {\n        if (data.includes(element.value)) {\n          forceSelectOptions.push(element)\n        }        \n      }); \n      setForceSelectOptions(forceSelectOptions)\n      setForceLoading(false)\n    })\n    .catch((err) => {\n      setError({'error': true, 'message': err.message});\n    })\n  }\n  \n  useEffect(fetchForces, [])\n\n  const [isEthnicityLoading, setEthnicityLoading] = useState(true);\n  const [ethnicitySelectOptions, setEthnicitySelectOptions] = useState([]);\n\n  const fetchEthnicity = () => {\n    setEthnicityLoading(true)\n    let forceQueryString = force\n    let url = ''\n\n    if (month === null) {\n      url = `http://localhost:5000/stopsearch/ethnicity?force=${forceQueryString}`\n    } else {\n      let monthQueryString = month\n      url = `http://localhost:5000/stopsearch/ethnicity?force=${forceQueryString}&month=${monthQueryString}`\n    }\n    \n    fetch(url)\n    .then(response => {\n      if (!response.ok) {  \n        throw new Error(`Error! Status: ${response.status}, Message: ${response.statusText}`); \n      }\n      return response.json();\n    })\n    .then(data => {\n      let ethnicitySelectOptions = []\n      allEthnicityOptions.forEach(element => {\n        if (data.includes(element.value)) {\n          ethnicitySelectOptions.push(element)\n        }        \n      }); \n      setEthnicitySelectOptions(ethnicitySelectOptions)\n      setEthnicityLoading(false)\n    })\n    .catch((err) => {\n      setError({'error': true, 'message': err.message});\n    })\n  }\n  \n  useEffect(fetchEthnicity, [force, month])\n  \n  const handleForceChange = (e) => {\n    setView1DataLoading(true);\n    setMonth(null);\n    setForce(e);\n    setError({'error': false, 'message': null});\n    localStorage.setItem(\"force\", e);\n    ReactGA.event({\n      category: \"force change\",\n      action: \"change force select\",\n      label: e,\n    });\n  }\n\n  const handleEthnicityChange = (e) => {\n    setView2DataLoading(true)\n    setEthnicity(e);\n    setError({'error': false, 'message': null});\n    localStorage.setItem(\"ethnicity\", e);\n    ReactGA.event({\n      category: \"ethnicity change\",\n      action: \"change ethnicity select\",\n      label: e,\n    });\n  }\n  \n  const handleMonthChange = (date) => {\n    setStartDate(date)\n    setView1DataLoading(true)\n    setMonth(`${date.getFullYear()}-${date.getMonth()+1<10?'0'+(date.getMonth()+1):date.getMonth()+1}`)\n    setError({'error': false, 'message': null});\n    ReactGA.event({\n      category: \"month change\",\n      action: \"change month select\",\n      label: `${date.getFullYear()}-${date.getMonth()+1<10?'0'+(date.getMonth()+1):date.getMonth()+1}`,\n    });\n  }\n\n  const [startDate, setStartDate] = useState();\n  const [isMonthsLoading, setMonthsLoading] = useState(true);\n  const [availableMonths, setAvailableMonths] = useState([]);\n\n  const fetchMonths = () => {\n    setMonthsLoading(true)\n    let forceQueryString = force\n    fetch(`http://localhost:5000/stopsearch/months?force=${forceQueryString}`)\n    .then(response => {\n      if (!response.ok) {  \n        throw new Error(`Error! Status: ${response.status}, Message: ${response.statusText}`); \n      }\n      return response.json();\n    })\n    .then(data => data.map((date) => new Date(date)))\n    .then(data => {\n      setStartDate(new Date(data.slice(-1)[0]))\n      setAvailableMonths(data)\n      setMonthsLoading(false)\n    })\n    .catch((err) => {\n      setError({'error': true, 'message': err.message});\n    })\n  }\n  \n  useEffect(fetchMonths, [force])\n\n  const [chartWidth, setChartWidth] = useState()\n  const chartRef = useRef()\n\n  const getChartWidth = () => {\n    const newChartWidth = chartRef.current.clientWidth;\n    setChartWidth(newChartWidth)\n  }\n\n  useEffect(() => {\n    getChartWidth();\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", getChartWidth);\n  }, []);\n \n  return (\n    <div className=\"stop-search-dashboard\">\n      <h1>UK stop and search dashboard</h1>\n      <div className=\"select-container\">\n        <h2>Select options</h2>\n        <div className=\"select-inputs\">\n          <span className=\"force-label\">Police force:</span>\n          <div className=\"force-dropdown\">\n            <Select\n              initialValue={force}\n              value={force}\n              onChange={handleForceChange}\n              dropdownClassName='force-dropdown'\n              aria-label={'select police force data'}\n              disableMatchWidth\n            >\n              {forceSelectOptions.map(({value, label}) =>\n                <Select.Option key={value} value={value} aria-label={label}>{label}</Select.Option>\n                )}\n            </Select>\n          </div>\n          <span className=\"month-label\">Month:</span>\n          <div className=\"month-picker\">\n            <DatePicker\n              views={['year', 'month']}\n              openTo=\"year\"\n              minDate={availableMonths[0]}\n              maxDate={availableMonths.slice(-1)[0]}\n              value={startDate}\n              onChange={handleMonthChange}\n              renderInput={(params) => <TextField {...params} helperText={null} />}\n            />\n          </div>\n          <span className=\"race-label\">Suspect's race:</span>\n          <div className=\"race-dropdown\">\n            <Select \n              initialValue={ethnicity}\n              value={ethnicity}\n              onChange={handleEthnicityChange}\n              dropdownClassName='ethnicity-dropdown'\n              aria-label={'select police ethnicity data'}\n              >\n              {ethnicitySelectOptions.map(({value, label}) => \n                <Select.Option key={value} value={value} aria-label={label}>{label}</Select.Option>\n                )}\n            </Select>   \n          </div>\n        </div>\n      </div>\n      <div className=\"monthly-stop-search-container\">\n        <div className=\"monthly-stop-search-figure\">\n        {\n          error.error ? \n          <>{error.message}</> :\n          isForceLoading || isMonthsLoading || isView1DataLoading ? \n          <Spinner /> :\n          <>\n            <div className=\"figure-title\">\n              <span>Number of stop and searches in {months[startDate.getMonth()]}, {startDate.getFullYear()}</span>\n              <Tooltip text={<Text font=\"1.4rem\">Number of stop and searches this month and percentage change compared to previous month</Text>} placement=\"bottomEnd\">\n                <Info/>\n              </Tooltip>  \n            </div>\n            <div className=\"stop-search-no\">\n              <span className=\"month-stop-search\">\n                {data.figure_1.monthly_no_stop_search}\n              </span>\n              <span className={`percentage-change \n              ${data.figure_1.pct_change > 0 ? 'positive' : data.figure_1.pct_change === 0 ? '' : 'negative' }`}>\n                {data.figure_1.pct_change > 0 ? <ChevronUp /> : data.figure_1.pct_change === 0 ? <Minus /> : <ChevronDown />}\n                {data.figure_1.pct_change+'%'}\n              </span>\n            </div>\n          </> \n        }\n        </div>\n      </div>\n      <div className=\"charts\">\n        <div className=\"chart\" ref={chartRef}>\n        {\n          error.error ? \n          <>{error.message}</> :\n          isForceLoading || isMonthsLoading || isView1DataLoading ?\n          <Spinner /> :\n          <>\n            <span>Stop and search count by race</span>\n            <Chart data={data.breakdown_by_race} ylabel={'Stop & search count'} xlabel={\"Suspect's race\"} chartWidth={chartWidth}/>\n          </>  \n        }\n        </div>\n        <div className=\"chart\">\n        {\n          error.error ? \n          <>{error.message}</> :\n          isEthnicityLoading || isView1DataLoading || isView2DataLoading ?\n          <Spinner /> :\n          <>\n            <span>Breakdown of {ethnicity.toLowerCase()} suspects by officer's race</span>\n            <Chart data={data.breakdown_by_police_ethnicity} ylabel={'Stop & search count'} xlabel={'Race of officer conducting stop & search'} chartWidth={chartWidth}/>\n          </>  \n        }\n        </div>\n        <div className=\"chart\">\n        {\n          error.error ? \n          <>{error.message}</> :\n          isEthnicityLoading || isView1DataLoading || isView2DataLoading ?\n          <Spinner /> :\n          <>\n            <span>Breakdown of {ethnicity.toLowerCase()} suspects by object of search</span>\n            <Chart data={data.breakdown_of_object_of_search_by_ethnicity} ylabel={'Stop & search count'} xlabel={'Object for stop & search'} chartWidth={chartWidth}/>\n          </>  \n        }      \n        </div>        \n        <div className=\"chart\">\n        {\n          error.error ? \n          <>{error.message}</> :\n          isEthnicityLoading || isView1DataLoading || isView2DataLoading ?\n          <Spinner /> :\n          <>\n            <span>Breakdown of {ethnicity.toLowerCase()} suspects by outcomes</span>\n            <Chart data={data.breakdown_of_outcomes_by_ethnicity} ylabel={'Stop & search count'} xlabel={'Outcome of stop & search'} chartWidth={chartWidth}/>\n          </>  \n        }\n        </div>\n      </div>\n      <div className=\"contributors\">\n        <h2>Contributors</h2>\n        <div className=\"avatar-images\">\n          <a href=\"https://github.com/ezeahunanya\" className=\"contributor-link\" target=\"_blank\" rel=\"noreferrer\">\n            <img src={Eze} alt=\"Avatar\" className=\"avatar\"/>\n            <span>Eze Ahunanya</span>\n          </a>\n          <a href=\"https://github.com/Primebrook\" className=\"contributor-link\" target=\"_blank\" rel=\"noreferrer\">\n            <img src={Brook} alt=\"Avatar\" className=\"avatar\"/>\n            <span>Brook Abraha</span>\n          </a>\n        </div>\n      </div> \n    </div>\n  )\n}\n\nexport default DashboardController","import DashboardController from './Controller/Controller'\n\nfunction StopSearch() {\n    return (\n        <DashboardController /> \n    );\n}\n\nexport default StopSearch;"],"names":["data","ylabel","xlabel","chartWidth","theme","useContext","ThemeContext","marker","color","layout","margin","r","b","l","t","autosize","paper_bgcolor","plot_bgcolor","font","yaxis","showgrid","title","text","automargin","showticklabels","xaxis","bargap","useResizeHandler","style","width","height","allForceOptions","value","label","allEthnicityOptions","months","useState","localStorage","getItem","force","setForce","ethnicity","setEthnicity","month","setMonth","setData","isView1DataLoading","setView1DataLoading","isView2DataLoading","setView2DataLoading","error","setError","useEffect","ReactGA","forceQueryString","ethnicityQueryString","url","monthQueryString","fetch","then","response","ok","Error","status","statusText","json","catch","err","message","isForceLoading","setForceLoading","forceSelectOptions","setForceSelectOptions","forEach","element","includes","push","isEthnicityLoading","setEthnicityLoading","ethnicitySelectOptions","setEthnicitySelectOptions","startDate","setStartDate","isMonthsLoading","setMonthsLoading","availableMonths","setAvailableMonths","map","date","Date","slice","setChartWidth","chartRef","useRef","getChartWidth","newChartWidth","current","clientWidth","window","addEventListener","className","initialValue","onChange","e","setItem","category","action","dropdownClassName","disableMatchWidth","DatePicker","views","openTo","minDate","maxDate","getFullYear","getMonth","renderInput","params","TextField","helperText","placement","figure_1","monthly_no_stop_search","pct_change","ref","breakdown_by_race","toLowerCase","breakdown_by_police_ethnicity","breakdown_of_object_of_search_by_ethnicity","breakdown_of_outcomes_by_ethnicity","href","target","rel","src","Eze","alt","Brook"],"sourceRoot":""}